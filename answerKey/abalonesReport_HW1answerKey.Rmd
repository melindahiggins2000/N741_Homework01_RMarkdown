---
title: "Abalones - Updated Title"
author: "Melinda Higgins, PhD - Associate Research Professor"
date: "February 11, 2019"
output:
  pdf_document: default
  html_document: default
  word_document: default
---

```{r setup, include=FALSE}
# setup knitr options
knitr::opts_chunk$set(echo = TRUE)

# load packages needed
library(readr)
library(dplyr)
library(ggplot2)

# Load the abalone dataset and provide variable names
abalone <- readr::read_csv(file = "https://archive.ics.uci.edu/ml/machine-learning-databases/abalone/abalone.data",
                           col_names = FALSE)

names(abalone) <- c("sex","length",
                    "diameter","height",
                    "wholeWeight","shuckedWeight",
                    "visceraWeight","shellWeight","rings")
```

## Abalones Dataset from UCI Repository

The `abalone` dataset is available from the UCI data repository at [https://archive.ics.uci.edu/ml/datasets/abalone](https://archive.ics.uci.edu/ml/datasets/abalone).

## Variables in Abalone Dataset

The variables in the abalone dataset are listed below.

```{r}
names(abalone)
```

## Summary statistics of variables in `abalone`

```{r}
summary(abalone)
```

## Specific statistics within text

```{r, echo = FALSE}
# this code chunk is not shown in the final document
# but we use this code chunk to save a result
# and use it below - the mean of height
# assign the mean height to object meanHt
meanHt <- abalone %>% 
  pull(height) %>%
  mean()

# ANSWER KEY - add code for median, sd, min and max
medianHt <- abalone %>% 
  pull(height) %>%
  median()

sdHt <- abalone %>% 
  pull(height) %>%
  sd()

minHt <- abalone %>% 
  pull(height) %>%
  min()

maxHt <- abalone %>% 
  pull(height) %>%
  max()
```

We can use `rmarkdown` with `R` to embed `R` code within text to show the result in the final document instead of the code.

For example, the average height of the `abalone` is `r meanHt`.

[ANSWER KEY] The median height is `r medianHt`, the standard deviation of the heights is `r sdHt` and the min and max are `r minHt`, `r maxHt`, respectively.

## Histogram of `abalone` heights

When typing text in `rmarkdown` we can add formatting like making works **BOLD** or adding other emphasis using _italics_.

We can also add bullets:

* What do you notice about the abalone heights?
* What could we do to investigate this issue further?

```{r}
# make a histogram of height
ggplot(data = abalone, aes(x = height)) +
  geom_histogram()
```

## [ANSWER KEY] Histogram of `abalone` rings

```{r}
# make a histogram of rings
ggplot(data = abalone, aes(x = rings)) +
  geom_histogram()
```

[ANSWER KEY] There is some slight skewness to the right (longer tail to the right) for the number of rings of the abalones. The distribution curve is also slightly peaked (positive kurtosis) but this is minor. Given the large sample size (>4000) no transformation is recommended.

## Scatterplot of `abalone` `rings` by `shellWeight`

```{r}
# make a scatterplot of rings by shellWeight
# color points by sex
ggplot(data = abalone, 
       aes(x = shellWeight, y = rings)) +
  geom_point(aes(color = sex))
```

## [ANSWER KEY] Scatterplot of `abalone` `wholeWeight` by `shuckedWeight`

```{r}
# make a scatterplot of wholeWeight (y-axis) by 
# shuckedWeight (x-axis)
# color points by sex
ggplot(data = abalone, 
       aes(x = shuckedWeight, y = wholeWeight)) +
  geom_point(aes(color = sex))
```

[ANSWER KEY] In general, there is a positive correlation between shucked weight and whole weight which makes sense. however, there are 5 or so points in the lower left corner where the shucked weight is larger than the whole weight which doesn't seem correct. This should be investigated further to see if these data were entered or recorded correctly.
